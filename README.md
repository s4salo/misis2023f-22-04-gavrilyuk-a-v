# Проект PoroMarker https://github.com/emilakper/poromarker
## Задача:  Создание библиотеки SAbin для полуавтоматической сегментации изображений

### Выделенные подзадачи:
  * Бинаризация изображения
  * Фильтрация изображения
  * Добавление возможности настраивать параметры фильтрации и бинаризации

<ins>Ниже приведен ожидаемый результат работы компонента Poromarker:<ins/>

Применение фильтра NLM и метода бинаризации OTSU <br/>
<img width="170" alt="image" src="https://github.com/s4salo/misis2023f-22-04-gavrilyuk-a-v/assets/127080534/f5c22634-cf1d-4876-a8c2-b5c7fa7592a5"> <img width="168" alt="image" src="https://github.com/s4salo/misis2023f-22-04-gavrilyuk-a-v/assets/127080534/815cdb4d-558a-4d40-b584-2fcb40bfa970"><br/>

Применение фильтра BILITERAL и метода бинаризации MEAN_STD_DEV <br>
<img width="170" alt="image" src="https://github.com/s4salo/misis2023f-22-04-gavrilyuk-a-v/assets/127080534/a3566af2-16e4-48d0-8ec1-8f9b8dacdece"> <img width="170" alt="image" src="https://github.com/s4salo/misis2023f-22-04-gavrilyuk-a-v/assets/127080534/bf50a1c1-287d-4621-9c12-66efbfd4e34d">


### Бинаризация изображения 
За бинаризацию изображения отвечает функция createMasks библиотеки SAbin, которая на вход принимает изображение, подлежащее бинаризации, а также данные из **конфигурационного листа**,
содержимое которого будет сформировано пользователем с помощью GUI. На выходе функция предоставляет маску изображения.

#### Конфигурационный лист 
Конфигурационный лист будет представлять собой json файл, в который будут заноситься параметры фильтрации и бинаризации, выбранные пользователем через GUI.

#### Методы бинаризации изображения
Бинаризация изображения может быть осуществлена при помощи нескольких методов: <br/>
* BINARY - простой метод порогового значения.  <br/> Пользователь задает числовое пороговое значение, и все пиксели изображения с яркостью выше этого порога становятся белыми, а ниже - черными. Метод взят из OpenCV.
* MEAN_STD_DEV - метод среднего и стандартного отклонения. <br/> Пользователь задает коэффициент k. Порог вычисляется как средняя яркость + k * стандартное отклонение яркостей изображения.
* OTSU - метод анализирует конкретное изображение и подбирает оптимальный порог для максимального разделения фона и объектов. Реализация заимствована из OpenCV.
  
### Фильтрация изображения:
В параметрах фильтрации изображения пользователь может выбрать желаемый способ фильтрации:
* BILITERAL - быстрый метод фильтрации. Используется размытие по Гауссу и двусторонний фильтр, реализация которых взята из OpenCV.
* NLM - медленный метод фильтрации, позволяющий отфильтровать изображение с сохранением четких границ. Реализация была заимствована из OpenCV
* NONE - фильтрация изображения не будет использована.
  
### Использованные библиотеки:
* OpenCV
* nlohmann-json

   

      



   

